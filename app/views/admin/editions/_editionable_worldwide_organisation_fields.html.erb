<% required = false unless defined?(required) %>

<% cache_if edition.editionable_worldwide_organisation_document_ids.empty?, "#{taggable_editionable_worldwide_organisations_cache_digest}-design-system" do %>
  <%= render "components/autocomplete", {
    id: "edition_editionable_worldwide_organisation_document_ids",
    name: "edition[editionable_worldwide_organisation_document_ids][]",
    error_items: errors_for(edition.errors, :editionable_worldwide_organisations),
    label: {
      text:  "Worldwide organisations" + "#{' (required)' if required}",
      heading_size: "m",
    },
    select: {
      options: [""] + taggable_editionable_worldwide_organisations_container,
      multiple: true,
      selected: edition.editionable_worldwide_organisation_document_ids,
    },
    data: {
      module: "track-select-click",
      track_category: "worldwideOrganisationSelection",
      track_label: request.path,
    },
  } %>
<% end %>
